<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Creador de fichas - D&amp;D</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
    <script type="text/javascript">
        const PEDIR_CLASES = 0;

        window.onload = function () {
            hacerPeticion(PEDIR_CLASES);
        }

        function hacerPeticion(tipo) {
            if(window.XMLHttpRequest) {
                peticion_http = new XMLHttpRequest();
            }
            else if(window.ActiveXObject) {
                peticion_http = new ActiveXObject("Microsoft.XMLHTTP");
            }

            //Petici√≥n tipo: http://dnd5eapi.co/api/
            switch (tipo) {
            case PEDIR_CLASES:
                peticion_http.onreadystatechange = muestraClases;
                peticion_http.open('GET', 'http://dnd5eapi.co/api/classes', true);
                peticion_http.send(null);
            }

            function muestraClases() {
                if(peticion_http.readyState == 4) {
                    if(peticion_http.status == 200) {
                        var clases = JSON.parse(peticion_http.responseText);
                        
                        var div = document.getElementById('prueba');

                        for (let index = 0; index < clases.results.length; index++) {
                            const clase = clases.results[index];
                            
                            console.log(clase);
                            var p = document.createElement('p');
                            p.textContent = clase.name;
                            div.appendChild(p);
                        }
                    }
                }
            }
        }
    </script>
</head>
<body>
    <div id="prueba"></div>
</body>
</html>